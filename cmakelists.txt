cmake_minimum_required(VERSION 4.1)
project(my_project C)

set(CMAKE_C_STANDARD 99)
set(CMAKE_C_STANDARD_REQUIRED TRUE)

include_directories(${CMAKE_SOURCE_DIR}/src)

file(GLOB_RECURSE SRCS CONFIGURE_DEPENDS ${CMAKE_SOURCE_DIR}/src/*.c)

add_executable(my_project
	${SRCS}
)

if(NOT MSVC)
	target_compile_options(my_project PRIVATE -g -O0 -Wall -Wextra)
else()
	target_compile_options(my_project PRIVATE /W3 /Od)
endif()